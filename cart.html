<!DOCTYPE html>
<html lang="en" data-page="cart">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cart - Mulligan Market</title>
<link rel="stylesheet" href="style.css" />
</head>
<body data-page="cart">

<header>
  <div class="container">
    <h1 class="logo">Mulligan Market</h1>
    <nav>
      <a href="index.html" class="nav-link">Home</a>
      <a href="cart.html" class="nav-link active">Cart</a>
      <a href="checkout.html" class="nav-link">Checkout</a>
    </nav>
  </div>
</header>

<main class="container cart-page">
  <h2>Your Shopping Cart</h2>
  <table class="cart-table" aria-label="Shopping Cart">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price per Set</th>
        <th>Total</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody id="cart-table-body">
      <!-- Cart items added by JS -->
    </tbody>
  </table>

  <div class="cart-summary">
    <p>Total: <strong id="cart-total">$0.00</strong></p>
    <a href="checkout.html" class="btn checkout-btn">Proceed to Checkout</a>
  </div>

  <p class="empty-cart-message" style="display:none;">Your cart is empty. <a href="index.html">Shop now!</a></p>
</main>

<footer>
  <div class="container">
    <p>&copy; 2025 Mulligan Market. All rights reserved.</p>
  </div>
</footer>

<script src="script.js"></script>
<script>
  // Show empty cart message if no items
  function checkEmptyCart() {
    const emptyMsg = document.querySelector('.empty-cart-message');
    const cartTable = document.querySelector('.cart-table');
    if (!cart.length) {
      emptyMsg.style.display = 'block';
      cartTable.style.display = 'none';
      document.querySelector('.cart-summary').style.display = 'none';
    } else {
      emptyMsg.style.display = 'none';
      cartTable.style.display = 'table';
      document.querySelector('.cart-summary').style.display = 'block';
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    checkEmptyCart();
    // Also re-check whenever cart updates - override loadCart to add this
    const originalLoadCart = window.loadCart;
    window.loadCart = function() {
      originalLoadCart();
      checkEmptyCart();
    };
  });
</script>
</body>
</html>
